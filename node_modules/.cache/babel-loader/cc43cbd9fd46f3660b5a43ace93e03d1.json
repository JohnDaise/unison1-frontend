{"ast":null,"code":"var usersURL = \"http://localhost:3001/users\";\nvar eventsURL = \"http://localhost:3001/events\";\nvar userEventsURL = \"http://localhost:3001/user_events\";\nvar postsURL = \"http://localhost:3001/posts\";\nvar loginURL = \"http://localhost:3001/profile\";\n\nfunction changeSearchText(value) {\n  return {\n    type: \"CHANGE_SEARCH_TEXT\",\n    value: value\n  };\n}\n\nfunction changeDropValue(value) {\n  return {\n    type: \"CHANGE_DROP_VALUE\",\n    value: value\n  };\n} ///User Actions\n\n\nfunction fetchedUsers(users) {\n  return {\n    type: \"FETCHED_USERS\",\n    users: users\n  };\n}\n\nfunction loadingUsers() {\n  return {\n    type: \"FETCHING_USERS\"\n  };\n}\n\nfunction fetchUsers(value) {\n  return function (dispatch) {\n    dispatch(loadingUsers());\n    fetch(usersURL).then(function (res) {\n      return res.json();\n    }).then(function (users) {\n      return dispatch(fetchedUsers(users));\n    });\n  };\n} ///Event Actions\n\n\nfunction createEvent(event) {\n  return {\n    type: \"ADD_EVENT\",\n    event: event\n  };\n}\n\nfunction eventUpdated(event) {\n  return {\n    type: \"EVENT_UPDATED\",\n    event: event\n  };\n}\n\nfunction updateEvent(_ref) {\n  var payload = _ref.payload,\n      eventId = _ref.eventId;\n  return function (dispatch, getState) {\n    var organizer = getState().events.find(function (event) {\n      return event.id === eventId;\n    }).user;\n    var data = {\n      name: payload.name,\n      location: payload.location,\n      datetime: payload.startDate,\n      notes: payload.notes\n    };\n    fetch(\"\".concat(eventsURL, \"/\").concat(eventId), {\n      method: \"PATCH\",\n      body: JSON.stringify(data),\n      headers: {\n        \"Content-type\": \"application/json\",\n        Accept: \"application/json\"\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (event) {\n      return dispatch(eventUpdated(event));\n    });\n  };\n}\n\n;\n\nfunction eventDeleted(event) {\n  console.log(\"hello\");\n  return {\n    type: \"EVENT_DELETED\",\n    event: event\n  };\n}\n\nfunction deleteEvent(eventId) {\n  return function (dispatch, getState) {\n    fetch(\"\".concat(eventsURL, \"/\").concat(eventId), {\n      method: \"DELETE\"\n    }).then(function (res) {\n      return res.json();\n    }).then(function (json) {\n      return console.log(json);\n    });\n  };\n}\n\nfunction fetchedEvents(events) {\n  return {\n    type: \"FETCHED_EVENTS\",\n    events: events\n  };\n}\n\nfunction loadingEvents() {\n  return {\n    type: \"FETCHING_EVENTS\"\n  };\n}\n\nfunction fetchEvents(value) {\n  return function (dispatch) {\n    dispatch(loadingEvents());\n    fetch(eventsURL).then(function (res) {\n      return res.json();\n    }).then(function (events) {\n      return dispatch(fetchedEvents(events));\n    });\n  };\n} ///UserEvent Actions\n\n\nfunction createUserEvent(ue) {\n  return {\n    type: \"ADD_USER_EVENT\",\n    ue: ue\n  };\n}\n\nfunction fetchedUserEvents(ues) {\n  return {\n    type: \"FETCHED_USER_EVENTS\",\n    ues: ues\n  };\n}\n\nfunction loadingUserEvents() {\n  return {\n    type: \"FETCHING_USER_EVENTS\"\n  };\n}\n\nfunction fetchUserEvents(value) {\n  return function (dispatch) {\n    dispatch(loadingUserEvents());\n    fetch(userEventsURL).then(function (res) {\n      return res.json();\n    }).then(function (ues) {\n      return dispatch(fetchedUserEvents(ues));\n    });\n  };\n} //Post Actions\n\n\nfunction createPost(post) {\n  return {\n    type: \"ADD_POST\",\n    post: post\n  };\n}\n\nfunction fetchedPosts(posts) {\n  return {\n    type: \"FETCHED_POSTS\",\n    posts: posts\n  };\n}\n\nfunction loadingPosts() {\n  return {\n    type: \"FETCHING_POSTS\"\n  };\n}\n\nfunction fetchPosts(value) {\n  return function (dispatch) {\n    dispatch(loadingPosts());\n    fetch(postsURL).then(function (res) {\n      return res.json();\n    }).then(function (posts) {\n      return dispatch(fetchedPosts(posts));\n    });\n  };\n} ///Login Actions\n// function setCurrentUser(currentUser){\n//   return { type: \"SET_USER\", currentUser };\n// }\n//\n// function logOutCurrentUser(currentUser){\n//   return { type: \"FORGET_USER\" };\n// }\n//\n//\n// function getCurrentUser(){\n//     return function(dispatch, getState){\n//         fetch(loginURL, {\n//           method: \"GET\",\n//           headers: {\n//             Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n//           }\n//         }).then(res => {\n//           if (res.status === 401) {\n//             dispatch(alert(\"login failed\"));// dispatch\n//           } else {\n//             return res.json(); //getState\n//           }\n//         }).then(currentUser => dispatch(setCurrentUser(currentUser)));\n//     }\n//   }\n//\n//mapDispatchToProps to currentUser is in app and\n//dispatch fetchUser function to app\n///dispatch function to App\n// , getCurrentUser, setCurrentUser, logOutCurrentUser\n\n\nexport { changeSearchText, changeDropValue, fetchUsers, fetchEvents, fetchUserEvents, fetchedEvents, fetchedUserEvents, createEvent, createPost, fetchPosts, fetchedPosts, loadingPosts, updateEvent, eventUpdated, deleteEvent };","map":{"version":3,"sources":["/Users/JohnDaise/Desktop/Flatiron/mod4/unison1-frontend/src/redux/actions/index.js"],"names":["usersURL","eventsURL","userEventsURL","postsURL","loginURL","changeSearchText","value","type","changeDropValue","fetchedUsers","users","loadingUsers","fetchUsers","dispatch","fetch","then","res","json","createEvent","event","eventUpdated","updateEvent","payload","eventId","getState","organizer","events","find","id","user","data","name","location","datetime","startDate","notes","method","body","JSON","stringify","headers","Accept","eventDeleted","console","log","deleteEvent","fetchedEvents","loadingEvents","fetchEvents","createUserEvent","ue","fetchedUserEvents","ues","loadingUserEvents","fetchUserEvents","createPost","post","fetchedPosts","posts","loadingPosts","fetchPosts"],"mappings":"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","sourcesContent":["const usersURL = \"http://localhost:3001/users\";\nconst eventsURL = \"http://localhost:3001/events\";\nconst userEventsURL = \"http://localhost:3001/user_events\";\nconst postsURL = \"http://localhost:3001/posts\"\nconst loginURL = \"http://localhost:3001/profile\"\n\n\nfunction changeSearchText(value) {\n  return { type: \"CHANGE_SEARCH_TEXT\", value: value };\n}\n\nfunction changeDropValue(value) {\n  return { type: \"CHANGE_DROP_VALUE\", value: value}\n}\n\n///User Actions\n\nfunction fetchedUsers(users){\n  return { type: \"FETCHED_USERS\", users };\n}\n\nfunction loadingUsers() {\n  return { type: \"FETCHING_USERS\" };\n}\n\n\nfunction fetchUsers(value) {\n  return dispatch => {\n     dispatch(loadingUsers());\n     fetch(usersURL)\n       .then(res => res.json())\n       .then(users => dispatch(fetchedUsers(users)));\n   };\n}\n\n\n\n\n///Event Actions\n\nfunction createEvent(event) {\n  return { type: \"ADD_EVENT\", event };\n}\n\n\nfunction eventUpdated(event) {\n  return { type: \"EVENT_UPDATED\", event };\n}\n\n\nfunction updateEvent({ payload, eventId }) {\n  return function(dispatch, getState) {\n    const organizer = getState().events.find(event => event.id === eventId).user;\n    let data = {\n      name: payload.name,\n      location: payload.location,\n      datetime: payload.startDate,\n      notes: payload.notes\n    };\n    fetch(`${eventsURL}/${eventId}`, {\n      method: \"PATCH\",\n      body: JSON.stringify(data),\n      headers: {\n        \"Content-type\": \"application/json\",\n        Accept: \"application/json\"\n      }\n    })\n      .then(res => res.json())\n      .then(event => dispatch(eventUpdated(event)));\n  };\n};\n\n\nfunction eventDeleted(event) {\n  console.log(\"hello\")\n  return { type: \"EVENT_DELETED\", event };\n}\n\nfunction deleteEvent(eventId) {\n  return function(dispatch, getState) {\n    fetch(`${eventsURL}/${eventId}`, {\n      method: \"DELETE\"\n    })\n      .then(res => res.json())\n      .then( json => console.log(json));\n  };\n}\n\n\nfunction fetchedEvents(events){\n  return { type: \"FETCHED_EVENTS\", events };\n}\n\nfunction loadingEvents() {\n  return { type: \"FETCHING_EVENTS\" };\n}\n\n\nfunction fetchEvents(value) {\n  return dispatch => {\n     dispatch(loadingEvents());\n     fetch(eventsURL)\n       .then(res => res.json())\n       .then(events => dispatch(fetchedEvents(events)));\n   };\n}\n\n\n///UserEvent Actions\n\nfunction createUserEvent(ue) {\n  return { type: \"ADD_USER_EVENT\", ue };\n}\n\nfunction fetchedUserEvents(ues){\n  return { type: \"FETCHED_USER_EVENTS\", ues };\n}\n\nfunction loadingUserEvents() {\n  return { type: \"FETCHING_USER_EVENTS\" };\n}\n\n\nfunction fetchUserEvents(value) {\n  return dispatch => {\n     dispatch(loadingUserEvents());\n     fetch(userEventsURL)\n       .then(res => res.json())\n       .then(ues => dispatch(fetchedUserEvents(ues)));\n   };\n}\n\n\n\n//Post Actions\n\nfunction createPost(post) {\n  return { type: \"ADD_POST\", post };\n}\n\nfunction fetchedPosts(posts){\n  return { type: \"FETCHED_POSTS\", posts };\n}\n\nfunction loadingPosts() {\n  return { type: \"FETCHING_POSTS\" };\n}\n\n\nfunction fetchPosts(value) {\n  return dispatch => {\n     dispatch(loadingPosts());\n     fetch(postsURL)\n       .then(res => res.json())\n       .then(posts => dispatch(fetchedPosts(posts)));\n   };\n}\n\n\n\n\n\n\n\n///Login Actions\n// function setCurrentUser(currentUser){\n//   return { type: \"SET_USER\", currentUser };\n// }\n//\n// function logOutCurrentUser(currentUser){\n//   return { type: \"FORGET_USER\" };\n// }\n//\n//\n// function getCurrentUser(){\n//     return function(dispatch, getState){\n//         fetch(loginURL, {\n//           method: \"GET\",\n//           headers: {\n//             Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n//           }\n//         }).then(res => {\n//           if (res.status === 401) {\n//             dispatch(alert(\"login failed\"));// dispatch\n//           } else {\n//             return res.json(); //getState\n//           }\n//         }).then(currentUser => dispatch(setCurrentUser(currentUser)));\n//     }\n//   }\n//\n\n\n\n\n\n//mapDispatchToProps to currentUser is in app and\n\n\n//dispatch fetchUser function to app\n\n\n///dispatch function to App\n\n\n\n\n\n\n\n\n// , getCurrentUser, setCurrentUser, logOutCurrentUser\n\n\nexport { changeSearchText, changeDropValue, fetchUsers, fetchEvents, fetchUserEvents, fetchedEvents, fetchedUserEvents, createEvent, createPost, fetchPosts, fetchedPosts, loadingPosts, updateEvent, eventUpdated, deleteEvent };\n"]},"metadata":{},"sourceType":"module"}