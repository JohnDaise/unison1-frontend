{"ast":null,"code":"import _defineProperty from \"/Users/JohnDaise/Desktop/Flatiron/mod4/unison1-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/JohnDaise/Desktop/Flatiron/mod4/unison1-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/JohnDaise/Desktop/Flatiron/mod4/unison1-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/JohnDaise/Desktop/Flatiron/mod4/unison1-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/JohnDaise/Desktop/Flatiron/mod4/unison1-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/JohnDaise/Desktop/Flatiron/mod4/unison1-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/JohnDaise/Desktop/Flatiron/mod4/unison1-frontend/src/components/NewPostForm.js\";\nimport React from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { createPost } from \"../redux/actions\";\nimport { Form, Button, Modal, TextArea } from 'semantic-ui-react';\n\nvar NewPostForm =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(NewPostForm, _React$Component);\n\n  function NewPostForm() {\n    var _this;\n\n    _classCallCheck(this, NewPostForm);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(NewPostForm).call(this));\n\n    _this.handleSubmit = function (e) {\n      e.preventDefault();\n      var data = {\n        content: _this.state.content,\n        url: _this.state.url,\n        user_id: _this.props.currentUser.id,\n        event_id: _this.props.singleEvent.id\n      };\n      fetch(\"http://localhost:3001/posts/\", {\n        method: \"POST\",\n        headers: {\n          Authorization: \"Bearer \".concat(localStorage.getItem(\"token\")),\n          'Content-Type': 'application/json',\n          Accept: \"application/json\"\n        },\n        body: JSON.stringify(data)\n      }).then(function (r) {\n        return r.json();\n      }).then(function (json) {\n        return createPost(json);\n      }); //create post action using json\n    };\n\n    _this.handleChange = function (e) {\n      _this.setState(_defineProperty({}, e.target.name, e.target.value));\n    };\n\n    _this.state = {\n      content: \"\",\n      url: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(NewPostForm, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(Modal, {\n        trigger: React.createElement(Button, {\n          circular: true,\n          float: \"right\",\n          icon: \"plus\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55\n          },\n          __self: this\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(Modal.Content, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(Modal.Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, \"Write New Post\"), React.createElement(Form, {\n        onSubmit: function onSubmit(e) {\n          return _this2.handleSubmit(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(Form.Field, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, \"Message\"), React.createElement(\"input\", {\n        name: \"content\",\n        placeholder: \"Message...\",\n        onChange: function onChange(e) {\n          return _this2.handleChange(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      })), React.createElement(Form.Field, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, \"URL\"), React.createElement(\"input\", {\n        name: \"url\",\n        placeholder: \"Video URL\",\n        onChange: function onChange(e) {\n          return _this2.handleChange(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      })), React.createElement(Button, {\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, \"Submit\"))));\n    }\n  }]);\n\n  return NewPostForm;\n}(React.Component);\n\nexport default connect(null, {\n  createPost: createPost\n})(withRouter(NewPostForm));","map":{"version":3,"sources":["/Users/JohnDaise/Desktop/Flatiron/mod4/unison1-frontend/src/components/NewPostForm.js"],"names":["React","withRouter","connect","createPost","Form","Button","Modal","TextArea","NewPostForm","handleSubmit","e","preventDefault","data","content","state","url","user_id","props","currentUser","id","event_id","singleEvent","fetch","method","headers","Authorization","localStorage","getItem","Accept","body","JSON","stringify","then","r","json","handleChange","setState","target","name","value","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\n\n\nimport { withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { createPost } from \"../redux/actions\";\n\nimport { Form, Button, Modal, TextArea } from 'semantic-ui-react'\n\n\n\nclass NewPostForm extends React.Component{\n  constructor(){\n    super()\n    this.state={\n      content: \"\",\n      url: \"\"\n    }\n  }\n\n\n   handleSubmit = (e) => {\n      e.preventDefault();\n      let data = {\n        content:this.state.content,\n        url: this.state.url,\n        user_id: this.props.currentUser.id,\n        event_id: this.props.singleEvent.id\n      }\n      fetch(`http://localhost:3001/posts/`, {\n      method: \"POST\",\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n        'Content-Type': 'application/json',\n        Accept: \"application/json\"\n      },\n      body: JSON.stringify(data)\n      })\n        .then(r => r.json())\n          .then(json => createPost(json)) //create post action using json\n\n    }\n\n\n    handleChange = (e) => {\n        this.setState({\n          [e.target.name]: e.target.value\n        })\n      }\n\n\n\nrender(){\n  return(\n    <Modal trigger={<Button circular float=\"right\" icon='plus'/>}>\n      <Modal.Content>\n      <Modal.Header>Write New Post</Modal.Header>\n        <Form onSubmit={(e) => this.handleSubmit(e)}>\n          <Form.Field>\n            <label>Message</label>\n            <input name='content' placeholder='Message...' onChange={(e)=> this.handleChange(e)} />\n          </Form.Field>\n          <Form.Field>\n            <label>URL</label>\n            <input name='url' placeholder='Video URL' onChange={(e)=> this.handleChange(e)} />\n          </Form.Field>\n          <Button type='submit'>Submit</Button>\n        </Form>\n      </Modal.Content>\n  </Modal>\n  )\n}\n\n\n\n\n}\n\n\nexport default connect(\n  null ,\n  { createPost }\n)(withRouter(NewPostForm));\n"]},"metadata":{},"sourceType":"module"}