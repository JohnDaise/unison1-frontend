{"ast":null,"code":"import _classCallCheck from \"/Users/JohnDaise/Desktop/Flatiron/mod4/unison1-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/JohnDaise/Desktop/Flatiron/mod4/unison1-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/JohnDaise/Desktop/Flatiron/mod4/unison1-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/JohnDaise/Desktop/Flatiron/mod4/unison1-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/JohnDaise/Desktop/Flatiron/mod4/unison1-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/JohnDaise/Desktop/Flatiron/mod4/unison1-frontend/src/components/PickEvent.js\";\nimport React from 'react';\nimport { connect } from \"react-redux\";\nimport { withRouter } from 'react-router-dom';\nimport { changeDropValue, resetDropValue } from \"../redux/actions\";\nimport { Dropdown } from 'semantic-ui-react';\n\nvar PickEvent =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(PickEvent, _React$Component);\n\n  function PickEvent(props) {\n    var _this;\n\n    _classCallCheck(this, PickEvent);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PickEvent).call(this, props));\n\n    _this.props.history.listen(function (location, action) {\n      // location is an object like window.location\n      console.log(action, location.pathname, location.state);\n    });\n\n    return _this;\n  }\n\n  _createClass(PickEvent, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 23\n        },\n        __self: this\n      }, React.createElement(Dropdown, {\n        fluid: true,\n        selection: true,\n        size: \"medium\",\n        onChange: function onChange(e, value) {\n          // e.persist();\n          _this2.props.onChange(value);\n        },\n        placeholder: \"Choose Event\",\n        name: \"choices\",\n        options: this.props.choices,\n        value: this.props.value,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 24\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return PickEvent;\n}(React.Component);\n\nvar mapStateToProps = function mapStateToProps(state, propsFromParent) {\n  function createObj(obj) {\n    return {\n      value: obj.name,\n      text: obj.name\n    };\n  }\n\n  var array = [{\n    value: '',\n    text: ''\n  }];\n  var userEvents = state.events.filter(function (event) {\n    return event.user_id === propsFromParent.currentUser.id;\n  });\n  var choices = array.concat(userEvents.map(function (event) {\n    return createObj(event);\n  }));\n  return {\n    loading: state.loading,\n    events: state.events,\n    userEvents: userEvents,\n    value: state.dropValue.value,\n    choices: choices,\n    selected: choices[0]\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    onChange: function onChange(value) {\n      return dispatch(changeDropValue(value));\n    } // reset: value => dispatch(changeRouter(change)))\n\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(PickEvent));","map":{"version":3,"sources":["/Users/JohnDaise/Desktop/Flatiron/mod4/unison1-frontend/src/components/PickEvent.js"],"names":["React","connect","withRouter","changeDropValue","resetDropValue","Dropdown","PickEvent","props","history","listen","location","action","console","log","pathname","state","e","value","onChange","choices","Component","mapStateToProps","propsFromParent","createObj","obj","name","text","array","userEvents","events","filter","event","user_id","currentUser","id","concat","map","loading","dropValue","selected","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { connect } from \"react-redux\";\nimport { withRouter } from 'react-router-dom';\nimport { changeDropValue, resetDropValue } from \"../redux/actions\";\nimport { Dropdown } from 'semantic-ui-react'\n\n\n\nclass PickEvent extends React.Component {\n\nconstructor(props){\n  super(props)\n  this.props.history.listen((location, action) => {\n    // location is an object like window.location\n    console.log(action, location.pathname, location.state)\n  });\n\n}\n\n\nrender(){\n  return(\n    <React.Fragment>\n        <Dropdown\n          fluid selection\n          size='medium'\n          onChange={(e, value )=> {\n            // e.persist();\n            this.props.onChange(value)}\n          }\n          placeholder='Choose Event'\n          name=\"choices\"\n          options={this.props.choices}\n          value={this.props.value}\n        />\n    </React.Fragment>\n  )}\n}\n\n\nconst mapStateToProps = (state, propsFromParent) => {\n  function createObj(obj){\n    return {value: obj.name, text: obj.name }\n  }\n  let array = [{ value: '' , text: '' }]\n  let userEvents = state.events.filter( event => event.user_id === propsFromParent.currentUser.id)\n  let choices = array.concat(userEvents.map( event => createObj(event)))\n\n  return {\n    loading: state.loading,\n    events: state.events,\n    userEvents: userEvents,\n    value: state.dropValue.value,\n    choices: choices,\n    selected: choices[0]\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onChange: value => dispatch(changeDropValue(value)),\n    // reset: value => dispatch(changeRouter(change)))\n  };\n};\n\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(PickEvent));\n"]},"metadata":{},"sourceType":"module"}