{"ast":null,"code":"import _classCallCheck from \"/Users/JohnDaise/Desktop/Flatiron/mod4/unison1-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/JohnDaise/Desktop/Flatiron/mod4/unison1-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/JohnDaise/Desktop/Flatiron/mod4/unison1-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/JohnDaise/Desktop/Flatiron/mod4/unison1-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/JohnDaise/Desktop/Flatiron/mod4/unison1-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/JohnDaise/Desktop/Flatiron/mod4/unison1-frontend/src/ProtectedRoutes.js\";\nimport React, { Component } from \"react\";\nimport { Route, Switch, Redirect } from \"react-router-dom\";\nimport \"./App.css\";\nimport UsersContainer from \"./components/UsersContainer\";\nimport EventsContainer from \"./components/EventsContainer\";\nimport EventDetail from \"./components/EventDetail\";\nimport SearchBar from \"./components/SearchBar\";\nimport PickEvent from \"./components/PickEvent\";\nimport { connect } from \"react-redux\";\nimport { fetchEvents, fetchUsers, fetchedEvents, loading } from \"../redux/actions/index\";\n\nvar ProtectedRoutes =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ProtectedRoutes, _Component);\n\n  function ProtectedRoutes() {\n    _classCallCheck(this, ProtectedRoutes);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(ProtectedRoutes).apply(this, arguments));\n  }\n\n  _createClass(ProtectedRoutes, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount(props) {\n      this.props.fetchEvents();\n      this.props.fetchUsers();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      ///map through all the events and see where currentUser id equals event.user.id and t\n      if (!this.props.currentUser) {\n        return React.createElement(Redirect, {\n          to: \"/login\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 26\n          },\n          __self: this\n        });\n      } else {\n        return React.createElement(React.Fragment, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 30\n          },\n          __self: this\n        }, React.createElement(Route, {\n          path: \"/players\",\n          render: function render(props) {\n            return React.createElement(React.Fragment, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 35\n              },\n              __self: this\n            }, !!_this.props.currentUser.events ? React.createElement(React.Fragment, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 37\n              },\n              __self: this\n            }, React.createElement(PickEvent, Object.assign({}, _this.props, {\n              currentUser: _this.props.currentUser,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 38\n              },\n              __self: this\n            })), React.createElement(SearchBar, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 39\n              },\n              __self: this\n            }), React.createElement(UsersContainer, Object.assign({}, _this.props, {\n              currentUser: _this.props.currentUser,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 40\n              },\n              __self: this\n            }))) : React.createElement(React.Fragment, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 46\n              },\n              __self: this\n            }, React.createElement(SearchBar, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 47\n              },\n              __self: this\n            }), React.createElement(UsersContainer, Object.assign({}, _this.props, {\n              currentUser: _this.props.currentUser,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 48\n              },\n              __self: this\n            }))));\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 31\n          },\n          __self: this\n        }), React.createElement(Route, {\n          exact: true,\n          path: \"/myevents\",\n          render: function render(props) {\n            return React.createElement(EventsContainer, Object.assign({}, _this.props, {\n              currentUser: _this.props.currentUser,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 58\n              },\n              __self: this\n            }));\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58\n          },\n          __self: this\n        }), React.createElement(Route, {\n          exact: true,\n          path: \"/myevents/:eventId\",\n          render: function render(data) {\n            return React.createElement(EventDetail, Object.assign({}, _this.props, {\n              currentUser: _this.props.currentUser,\n              fetchEvents: _this.props.fetchEvents,\n              eventId: data.match.params.eventId,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 63\n              },\n              __self: this\n            }));\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59\n          },\n          __self: this\n        }));\n      }\n    }\n  }]);\n\n  return ProtectedRoutes;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state, propsFromParent) {\n  console.log(propsFromParent);\n  var userEvents = state.events.filter(function (event) {\n    return event.id === parseInt(propsFromParent.currentUser.id);\n  });\n  return {\n    loading: state.loading,\n    events: state.events,\n    userEvents: userEvents,\n    users: state.users\n  };\n};\n\nexport default connect(mapStateToProps, {\n  fetchEvents: fetchEvents,\n  fetchUsers: fetchUsers\n})(ProtectedRoutes);","map":{"version":3,"sources":["/Users/JohnDaise/Desktop/Flatiron/mod4/unison1-frontend/src/ProtectedRoutes.js"],"names":["React","Component","Route","Switch","Redirect","UsersContainer","EventsContainer","EventDetail","SearchBar","PickEvent","connect","fetchEvents","fetchUsers","fetchedEvents","loading","ProtectedRoutes","props","currentUser","events","data","match","params","eventId","mapStateToProps","state","propsFromParent","console","log","userEvents","filter","event","id","parseInt","users"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Route, Switch, Redirect } from \"react-router-dom\";\nimport \"./App.css\";\n\nimport UsersContainer from \"./components/UsersContainer\";\nimport EventsContainer from \"./components/EventsContainer\";\nimport EventDetail from \"./components/EventDetail\";\nimport SearchBar from \"./components/SearchBar\";\nimport PickEvent from \"./components/PickEvent\";\n\nimport { connect } from \"react-redux\";\nimport { fetchEvents, fetchUsers, fetchedEvents, loading } from \"../redux/actions/index\";\n\n\nclass ProtectedRoutes extends Component {\n\n  componentDidMount(props) {\n      this.props.fetchEvents();\n      this.props.fetchUsers();\n    }\n\n\n  render() {\n    ///map through all the events and see where currentUser id equals event.user.id and t\n    if(!this.props.currentUser){\n    return <Redirect to=\"/login\" />\n    }\n     else {\n    return (\n       <React.Fragment>\n          <Route\n             path=\"/players\"\n             render={(props) => {\n              return (\n                <React.Fragment>\n                  {!!this.props.currentUser.events ?\n                  <React.Fragment>\n                      <PickEvent {...this.props} currentUser={this.props.currentUser} />\n                      <SearchBar />\n                      <UsersContainer\n                        {...this.props}\n                        currentUser={this.props.currentUser}\n                        />\n                  </React.Fragment>\n                  :\n                  <React.Fragment>\n                    <SearchBar />\n                    <UsersContainer\n                      {...this.props}\n                      currentUser={this.props.currentUser}\n                      />\n                  </React.Fragment>\n                    }\n                 </React.Fragment>\n               );\n             }}\n             />\n          <Route exact path=\"/myevents\" render={(props) => <EventsContainer {...this.props} currentUser={this.props.currentUser} />}/>\n          <Route\n            exact path=\"/myevents/:eventId\"\n            render={ data => {\n              return (\n                <EventDetail {...this.props} currentUser={this.props.currentUser} fetchEvents={this.props.fetchEvents} eventId={data.match.params.eventId} />\n                );\n             }} />\n      </React.Fragment>\n        )}\n    }\n}\n\n\nconst mapStateToProps = (state, propsFromParent )=> {\n  console.log(propsFromParent)\n  let userEvents = state.events.filter(event => event.id === parseInt(propsFromParent.currentUser.id))\n  return {\n    loading: state.loading,\n    events: state.events,\n    userEvents: userEvents,\n    users: state.users\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  { fetchEvents, fetchUsers }\n)(ProtectedRoutes);\n"]},"metadata":{},"sourceType":"module"}