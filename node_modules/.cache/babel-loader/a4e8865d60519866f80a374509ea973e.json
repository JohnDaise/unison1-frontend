{"ast":null,"code":"import _classCallCheck from \"/Users/JohnDaise/Desktop/Flatiron/mod4/unison1-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/JohnDaise/Desktop/Flatiron/mod4/unison1-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/JohnDaise/Desktop/Flatiron/mod4/unison1-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/JohnDaise/Desktop/Flatiron/mod4/unison1-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/JohnDaise/Desktop/Flatiron/mod4/unison1-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/JohnDaise/Desktop/Flatiron/mod4/unison1-frontend/src/components/PickEvent.js\";\nimport React from 'react';\nimport { connect } from \"react-redux\";\nimport { withRouter } from 'react-router-dom';\nimport { changeDropValue, resetDropValue } from \"../redux/actions\";\nimport { Dropdown } from 'semantic-ui-react';\n\nvar PickEvent =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(PickEvent, _React$Component);\n\n  function PickEvent(props) {\n    var _this;\n\n    _classCallCheck(this, PickEvent);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PickEvent).call(this, props));\n\n    _this.props.history.listen(function (location, action) {\n      console.log(\"The current URL is \".concat(location.pathname).concat(location.search).concat(location.hash));\n      console.log(\"The last navigation action was \".concat(action));\n\n      _this.props.reset();\n    });\n\n    return _this;\n  }\n\n  _createClass(PickEvent, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 24\n        },\n        __self: this\n      }, React.createElement(Dropdown, {\n        fluid: true,\n        selection: true,\n        size: \"medium\",\n        onChange: function onChange(e, value) {\n          // e.persist();\n          _this2.props.onChange(value);\n        },\n        placeholder: \"Choose Event\",\n        name: \"choices\",\n        options: this.props.choices,\n        value: this.props.value,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 25\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return PickEvent;\n}(React.Component);\n\nvar mapStateToProps = function mapStateToProps(state, propsFromParent) {\n  function createObj(obj) {\n    return {\n      value: obj.name,\n      text: obj.name\n    };\n  }\n\n  var array = [{\n    value: '',\n    text: ''\n  }];\n  var userEvents = state.events.filter(function (event) {\n    return event.user_id === propsFromParent.currentUser.id;\n  });\n  var choices = array.concat(userEvents.map(function (event) {\n    return createObj(event);\n  }));\n  return {\n    loading: state.loading,\n    events: state.events,\n    userEvents: userEvents,\n    value: state.dropValue.value,\n    choices: choices,\n    selected: choices[0]\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    onChange: function onChange(value) {\n      return dispatch(changeDropValue(value));\n    },\n    reset: function reset(value) {\n      return dispatch(changeRouter(change));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(PickEvent));","map":{"version":3,"sources":["/Users/JohnDaise/Desktop/Flatiron/mod4/unison1-frontend/src/components/PickEvent.js"],"names":["React","connect","withRouter","changeDropValue","resetDropValue","Dropdown","PickEvent","props","history","listen","location","action","console","log","pathname","search","hash","reset","e","value","onChange","choices","Component","mapStateToProps","state","propsFromParent","createObj","obj","name","text","array","userEvents","events","filter","event","user_id","currentUser","id","concat","map","loading","dropValue","selected","mapDispatchToProps","dispatch","changeRouter","change"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { connect } from \"react-redux\";\nimport { withRouter } from 'react-router-dom';\nimport { changeDropValue, resetDropValue } from \"../redux/actions\";\nimport { Dropdown } from 'semantic-ui-react'\n\n\n\nclass PickEvent extends React.Component {\n\nconstructor(props){\n  super(props)\n  this.props.history.listen((location, action) => {\n    console.log(`The current URL is ${location.pathname}${location.search}${location.hash}`)\n      console.log(`The last navigation action was ${action}`)\n      this.props.reset();\n  });\n\n}\n\n\nrender(){\n  return(\n    <React.Fragment>\n        <Dropdown\n          fluid selection\n          size='medium'\n          onChange={(e, value )=> {\n            // e.persist();\n            this.props.onChange(value)}\n          }\n          placeholder='Choose Event'\n          name=\"choices\"\n          options={this.props.choices}\n          value={this.props.value}\n        />\n    </React.Fragment>\n  )}\n}\n\n\nconst mapStateToProps = (state, propsFromParent) => {\n  function createObj(obj){\n    return {value: obj.name, text: obj.name }\n  }\n  let array = [{ value: '' , text: '' }]\n  let userEvents = state.events.filter( event => event.user_id === propsFromParent.currentUser.id)\n  let choices = array.concat(userEvents.map( event => createObj(event)))\n\n  return {\n    loading: state.loading,\n    events: state.events,\n    userEvents: userEvents,\n    value: state.dropValue.value,\n    choices: choices,\n    selected: choices[0]\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onChange: value => dispatch(changeDropValue(value)),\n    reset: value => dispatch(changeRouter(change))\n  };\n};\n\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(PickEvent));\n"]},"metadata":{},"sourceType":"module"}