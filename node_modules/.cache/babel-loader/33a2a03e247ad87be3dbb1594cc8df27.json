{"ast":null,"code":"import _defineProperty from \"/Users/JohnDaise/Desktop/Flatiron/mod4/unison1-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/JohnDaise/Desktop/Flatiron/mod4/unison1-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/JohnDaise/Desktop/Flatiron/mod4/unison1-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/JohnDaise/Desktop/Flatiron/mod4/unison1-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/JohnDaise/Desktop/Flatiron/mod4/unison1-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/JohnDaise/Desktop/Flatiron/mod4/unison1-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/JohnDaise/Desktop/Flatiron/mod4/unison1-frontend/src/components/NewEventForm.js\";\nimport React from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { createEvent } from \"../redux/actions\";\nimport DatePicker from 'react-datepicker';\nimport moment from 'moment';\nimport 'react-datepicker/dist/react-datepicker.css'; //in the backend make the event date a datetime attribute\n\nimport { Form, Button, Modal, TextArea } from 'semantic-ui-react';\n\nvar NewEventForm =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(NewEventForm, _React$Component);\n\n  function NewEventForm() {\n    var _this;\n\n    _classCallCheck(this, NewEventForm);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(NewEventForm).call(this));\n\n    _this.handleSubmit = function (e) {\n      e.preventDefault();\n      var data = {\n        name: _this.state.name,\n        location: _this.state.location,\n        datetime: _this.state.startDate,\n        notes: _this.state.notes,\n        user_id: _this.props.currentUser.id\n      };\n\n      if (_this.state.name === \"\") {\n        window.alert(\"Please Fill in an Event Name\");\n      } else {\n        fetch(\"http://localhost:3001/events/\", {\n          method: \"POST\",\n          headers: {\n            Authorization: \"Bearer \".concat(localStorage.getItem(\"token\")),\n            'Content-Type': 'application/json',\n            Accept: \"application/json\"\n          },\n          body: JSON.stringify(data)\n        }).then(function (r) {\n          return r.json();\n        }).then(function (json) {\n          return _this.props.createEvent(json);\n        });\n\n        _this.props.closeEventFormModal(); //     this.props.dispatch({\n        // type:'ADD_EVENT',\n        // data});\n        // this.props.history.push(\"/myevents/\");\n\n      }\n    };\n\n    _this.handleChange = function (e) {\n      _this.setState(_defineProperty({}, e.target.name, e.target.value));\n    };\n\n    _this.handleDateChange = function (date) {\n      _this.setState({\n        startDate: date\n      });\n    };\n\n    _this.state = {\n      name: \"\",\n      location: \"\",\n      startDate: moment(),\n      notes: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(NewEventForm, [{\n    key: \"render\",\n    //  open={this.props.isUpdateModalOpen}\n    // onOpen={()=> this.props.openUpdateModal()}\n    // onClose={()=> this.props.closeUpdateModal()}\n    //\n    value: function render() {\n      var _this2 = this,\n          _React$createElement;\n\n      console.log(this.props.isUpdateModalOpen);\n      return React.createElement(Modal, (_React$createElement = {\n        open: this.props.isNewEventFormModalOpen,\n        onClose: function onClose() {\n          return _this2.props.closeEventFormModal();\n        }\n      }, _defineProperty(_React$createElement, \"onClose\", function onClose() {\n        return _this2.props.openEventFormModal();\n      }), _defineProperty(_React$createElement, \"closeEventFormModal\", this.closeEventFormModal), _defineProperty(_React$createElement, \"openEventFormModal\", this.openEventFormModal), _defineProperty(_React$createElement, \"open\", this.props.isUpdateModalOpen), _defineProperty(_React$createElement, \"trigger\", React.createElement(Button, {\n        circular: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, \"Create New Event\")), _defineProperty(_React$createElement, \"__source\", {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      }), _defineProperty(_React$createElement, \"__self\", this), _React$createElement), React.createElement(Modal.Content, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, React.createElement(Modal.Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, \"Create New Event\"), React.createElement(Form, {\n        onSubmit: function onSubmit(e) {\n          _this2.handleSubmit(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, React.createElement(Form.Field, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, \" Name \"), React.createElement(\"input\", {\n        name: \"name\",\n        placeholder: \"Name\",\n        onChange: function onChange(e) {\n          return _this2.handleChange(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      })), React.createElement(Form.Field, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, \"Location\"), React.createElement(\"input\", {\n        name: \"location\",\n        placeholder: \"Location\",\n        onChange: function onChange(e) {\n          return _this2.handleChange(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      })), React.createElement(Form.Field, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, \"Date and Time\"), React.createElement(DatePicker, {\n        selected: this.state.startDate,\n        onChange: this.handleDateChange,\n        showTimeSelect: true,\n        timeFormat: \"HH:mm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      })), React.createElement(Form.Field, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, \"Notes\"), React.createElement(TextArea, {\n        name: \"notes\",\n        placeholder: \"Notes\",\n        onChange: function onChange(e) {\n          return _this2.handleChange(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      })), React.createElement(Button, {\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, \"Submit\"))));\n    }\n  }]);\n\n  return NewEventForm;\n}(React.Component);\n\nexport default connect(null, {\n  createEvent: createEvent\n})(withRouter(NewEventForm));","map":{"version":3,"sources":["/Users/JohnDaise/Desktop/Flatiron/mod4/unison1-frontend/src/components/NewEventForm.js"],"names":["React","withRouter","connect","createEvent","DatePicker","moment","Form","Button","Modal","TextArea","NewEventForm","handleSubmit","e","preventDefault","data","name","state","location","datetime","startDate","notes","user_id","props","currentUser","id","window","alert","fetch","method","headers","Authorization","localStorage","getItem","Accept","body","JSON","stringify","then","r","json","closeEventFormModal","handleChange","setState","target","value","handleDateChange","date","console","log","isUpdateModalOpen","isNewEventFormModalOpen","openEventFormModal","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\n\nimport { withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { createEvent } from \"../redux/actions\";\n\nimport DatePicker from 'react-datepicker';\nimport moment from 'moment';\nimport 'react-datepicker/dist/react-datepicker.css';\n\n//in the backend make the event date a datetime attribute\n\n\nimport { Form, Button, Modal, TextArea } from 'semantic-ui-react'\n\n\n\nclass NewEventForm extends React.Component{\n  constructor(){\n    super()\n    this.state={\n     name: \"\",\n     location: \"\",\n     startDate: moment(),\n     notes: \"\"\n   };\n }\n\n\n\n\n\n   handleSubmit = (e) => {\n      e.preventDefault();\n      let data = {\n        name: this.state.name,\n        location: this.state.location,\n        datetime: this.state.startDate,\n        notes: this.state.notes,\n        user_id: this.props.currentUser.id\n      };\n      if(this.state.name === \"\"){\n        window.alert(\"Please Fill in an Event Name\")\n      } else {\n      fetch(`http://localhost:3001/events/`, {\n      method: \"POST\",\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n        'Content-Type': 'application/json',\n        Accept: \"application/json\"\n      },\n      body: JSON.stringify(data)\n      })\n        .then(r => r.json())\n          .then(json => this.props.createEvent(json))\n      this.props.closeEventFormModal();\n      //     this.props.dispatch({\n      // type:'ADD_EVENT',\n      // data});\n      // this.props.history.push(\"/myevents/\");\n    }};\n\n    handleChange = (e) => {\n        this.setState({\n          [e.target.name]: e.target.value\n        })\n      }\n\n      handleDateChange= (date) => {\n        this.setState({\n          startDate: date\n        });\n      }\n\n     //  open={this.props.isUpdateModalOpen}\n     // onOpen={()=> this.props.openUpdateModal()}\n     // onClose={()=> this.props.closeUpdateModal()}\n     //\n\n\nrender(){\n  console.log(this.props.isUpdateModalOpen)\n  return(\n    <Modal\n      open={this.props.isNewEventFormModalOpen}\n      onClose={()=> this.props.closeEventFormModal()}\n      onClose={()=> this.props.openEventFormModal()}\n\n      closeEventFormModal={this.closeEventFormModal}\n      openEventFormModal={this.openEventFormModal}\n\n      open={this.props.isUpdateModalOpen}\n      trigger={\n         <Button circular>\n           Create New Event\n         </Button>}\n      >\n      <Modal.Content>\n      <Modal.Header>Create New Event</Modal.Header>\n        <Form onSubmit={(e) =>\n            {\n              this.handleSubmit(e)}\n            }>\n          <Form.Field>\n            <label> Name </label>\n            <input name='name' placeholder='Name' onChange={(e)=> this.handleChange(e)} />\n          </Form.Field>\n          <Form.Field>\n            <label>Location</label>\n            <input name='location' placeholder='Location' onChange={(e)=> this.handleChange(e)} />\n          </Form.Field>\n          <Form.Field>\n            <label>Date and Time</label>\n              <DatePicker\n                selected={this.state.startDate}\n                onChange={this.handleDateChange}\n                showTimeSelect\n                timeFormat=\"HH:mm\"\n              />\n          </Form.Field>\n          <Form.Field>\n            <label>Notes</label>\n             <TextArea name='notes' placeholder='Notes' onChange={(e)=> this.handleChange(e)}/>\n          </Form.Field>\n          <Button type='submit'>Submit</Button>\n        </Form>\n      </Modal.Content>\n  </Modal>\n  )\n}\n\n\n\n\n}\n\n\n\nexport default connect(\n  null ,\n  { createEvent }\n)(withRouter(NewEventForm));\n"]},"metadata":{},"sourceType":"module"}