{"ast":null,"code":"import _classCallCheck from \"/Users/JohnDaise/Desktop/Flatiron/mod4/unison1-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/JohnDaise/Desktop/Flatiron/mod4/unison1-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/JohnDaise/Desktop/Flatiron/mod4/unison1-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/JohnDaise/Desktop/Flatiron/mod4/unison1-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/JohnDaise/Desktop/Flatiron/mod4/unison1-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/JohnDaise/Desktop/Flatiron/mod4/unison1-frontend/src/components/UserCard.js\";\nimport React from 'react';\nimport { connect } from \"react-redux\";\nimport { Grid, Card, Button, Image, Icon } from 'semantic-ui-react';\nimport { fetchEvents } from \"../redux/actions/index\";\n\nvar UserCard =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(UserCard, _React$Component);\n\n  function UserCard() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, UserCard);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(UserCard)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.addPlayerToEvent = function () {\n      //adjust logic and find a way to empty dropValue componentDidMount\n      if (_this.props.dropValue.value) {\n        var event = _this.props.events.find(function (event) {\n          return event.name === _this.props.dropValue.value;\n        });\n\n        var eventId = event.id;\n        var playerId = _this.props.user.id;\n\n        if (event.users.map(function (user) {\n          return user.id;\n        }).includes(playerId)) {\n          window.alert(\"Player already added\");\n        } else {\n          fetch(\"http://localhost:3001/user_events/\", {\n            method: \"POST\",\n            headers: {\n              Authorization: \"Bearer \".concat(localStorage.getItem(\"token\")),\n              'Content-Type': 'application/json',\n              Accept: \"application/json\"\n            },\n            body: JSON.stringify({\n              user_id: playerId,\n              event_id: eventId\n            })\n          }).then(function (r) {\n            return r.json();\n          }).then(function (json) {\n            return console.log(json);\n          });\n\n          _this.props.fetchEvents();\n\n          _this.props.openPlayerAddedModal();\n        }\n      } else {\n        _this.props.openWarningModal();\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(UserCard, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var event = this.props.events.find(function (event) {\n        return event.name === _this2.props.dropValue.value;\n      }); // let eventId = event.id\n\n      var playerId = this.props.user.id;\n      console.log(events);\n      return React.createElement(Grid.Column, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, React.createElement(Card, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, React.createElement(Card.Content, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, React.createElement(Image, {\n        src: this.props.user.pic_url,\n        circular: true,\n        size: \"small\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }), React.createElement(Card.Header, {\n        as: \"h3\",\n        id: this.props.user.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, this.props.user.name), React.createElement(Icon, {\n        name: \"envelope\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }), \" \", this.props.user.email, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }), React.createElement(Icon, {\n        name: \"phone\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }), \" \", this.props.user.phone_number, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }), React.createElement(Icon, {\n        name: \"file alternate\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }), \" \", this.props.user.bio), React.createElement(Button, {\n        onClick: function onClick() {\n          return _this2.addPlayerToEvent();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, \"Add Player\")));\n    }\n  }]);\n\n  return UserCard;\n}(React.Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    loading: state.loading,\n    events: state.events,\n    users: state.users,\n    dropValue: state.dropValue\n  };\n};\n\nexport default connect(mapStateToProps, {\n  fetchEvents: fetchEvents\n})(UserCard);","map":{"version":3,"sources":["/Users/JohnDaise/Desktop/Flatiron/mod4/unison1-frontend/src/components/UserCard.js"],"names":["React","connect","Grid","Card","Button","Image","Icon","fetchEvents","UserCard","addPlayerToEvent","props","dropValue","value","event","events","find","name","eventId","id","playerId","user","users","map","includes","window","alert","fetch","method","headers","Authorization","localStorage","getItem","Accept","body","JSON","stringify","user_id","event_id","then","r","json","console","log","openPlayerAddedModal","openWarningModal","pic_url","email","phone_number","bio","Component","mapStateToProps","state","loading"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { connect } from \"react-redux\";\nimport { Grid, Card, Button, Image, Icon } from 'semantic-ui-react';\nimport { fetchEvents } from \"../redux/actions/index\";\n\n\n\nclass UserCard extends React.Component {\n\n//dispatch fetchEvents\n\naddPlayerToEvent = () => {\n//adjust logic and find a way to empty dropValue componentDidMount\n  if (this.props.dropValue.value){\n    let event = this.props.events.find( event => event.name === this.props.dropValue.value)\n    let eventId = event.id\n    let playerId = this.props.user.id\n  if (event.users.map(user => user.id).includes(playerId)){\n    window.alert(\"Player already added\")\n  } else {\n  fetch(`http://localhost:3001/user_events/`, {\n  method: \"POST\",\n  headers: {\n    Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n    'Content-Type': 'application/json',\n    Accept: \"application/json\"\n  },\n  body: JSON.stringify({\n        user_id: playerId,\n        event_id: eventId\n      })\n  })\n    .then(r => r.json())\n      .then(json => console.log(json))\n  this.props.fetchEvents();\n  this.props.openPlayerAddedModal()\n  }\n} else {\n this.props.openWarningModal()\n}}\n\n\nrender(){\n  let event = this.props.events.find( event => event.name === this.props.dropValue.value)\n  // let eventId = event.id\n  let playerId = this.props.user.id\n  console.log(events)\n  return(\n    <Grid.Column>\n    <Card>\n      <Card.Content>\n        <Image src={this.props.user.pic_url} circular size=\"small\"/>\n          <br/>\n          <br/>\n        <Card.Header as='h3' id={this.props.user.id}  >{this.props.user.name}</Card.Header>\n        <Icon name=\"envelope\"/> {this.props.user.email}<br/>\n        <Icon name=\"phone\"/> {this.props.user.phone_number}<br/>\n        <Icon name=\"file alternate\"/> {this.props.user.bio}\n      </Card.Content>\n\n      <Button onClick={()=> this.addPlayerToEvent() }>Add Player</Button>\n\n    </Card>\n    </Grid.Column>\n  )\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    loading: state.loading,\n    events: state.events,\n    users: state.users,\n    dropValue: state.dropValue\n  };\n};\n\n\n\n\n\nexport default connect(mapStateToProps,{ fetchEvents })(UserCard);\n"]},"metadata":{},"sourceType":"module"}